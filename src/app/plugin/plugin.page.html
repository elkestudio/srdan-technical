<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Battery Plugin
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Battery Plugin</ion-title>
    </ion-toolbar>
  </ion-header>
  
  <div class="ion-padding">
    <ion-card>
      <ion-card-header>
        <ion-card-title>
          <ion-icon [name]="getBatteryIcon()" [color]="getBatteryColor()"></ion-icon>
          Battery Status
        </ion-card-title>
      </ion-card-header>
      
      <ion-card-content>
        <div *ngIf="batteryInfo; else noBatteryInfo">
          <ion-item>
            <ion-label>
              <h2>Battery Level</h2>
              <p>Current charge percentage</p>
            </ion-label>
            <ion-badge [color]="getBatteryColor()" slot="end">
              {{ batteryInfo.level }}%
            </ion-badge>
          </ion-item>
          
          <ion-item>
            <ion-label>
              <h2>Charging Status</h2>
              <p>Is device connected to power?</p>
            </ion-label>
            <ion-badge [color]="batteryInfo.isCharging ? 'success' : 'medium'" slot="end">
              {{ batteryInfo.isCharging ? 'Charging' : 'Not Charging' }}
            </ion-badge>
          </ion-item>
          
          <ion-item>
            <ion-label>
              <h2>Low Battery Warning</h2>
              <p>Battery level below 20%</p>
            </ion-label>
            <ion-badge [color]="batteryInfo.isLowBattery ? 'danger' : 'success'" slot="end">
              {{ batteryInfo.isLowBattery ? 'Low Battery' : 'Normal' }}
            </ion-badge>
          </ion-item>
          
          <ion-item>
            <ion-label>
              <h2>Battery Status</h2>
              <p>Current battery state</p>
            </ion-label>
            <ion-badge [color]="getStatusColor()" slot="end">
              {{ batteryInfo.status.charAt(0).toUpperCase() + batteryInfo.status.slice(1) }}
            </ion-badge>
          </ion-item>
          
          <ion-item *ngIf="lastUpdated">
            <ion-label>
              <h2>Last Updated</h2>
              <p>{{ lastUpdated.toLocaleString() }}</p>
            </ion-label>
          </ion-item>
          
          <ion-item>
            <ion-label>
              <h2>Real-time Monitoring</h2>
              <p>Automatic updates when battery changes</p>
            </ion-label>
            <ion-badge [color]="isListening ? 'success' : 'medium'" slot="end">
              {{ isListening ? 'Active' : 'Inactive' }}
            </ion-badge>
          </ion-item>
        </div>
        
        <ng-template #noBatteryInfo>
          <ion-item>
            <ion-label>
              <h2>Loading battery information...</h2>
              <p>Please wait while we fetch battery data</p>
            </ion-label>
          </ion-item>
        </ng-template>
        
        <div class="ion-margin-top">
          <ion-button expand="block" fill="outline" (click)="refreshBatteryInfo()">
            <ion-icon name="refresh" slot="start"></ion-icon>
            Refresh Battery Info
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
    
    <ion-card>
      <ion-card-header>
        <ion-card-title>Plugin Information</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-label>
            <h2>Plugin Name</h2>
            <p>elke-battery</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-label>
            <h2>Version</h2>
            <p>0.0.1</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-label>
            <h2>Supported Platforms</h2>
            <p>Web, iOS, Android</p>
          </ion-label>
        </ion-item>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
